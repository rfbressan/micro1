---
title: "Prefer√™ncias e Utilidade"
title-slide-attributes:
  data-background-image: http://econtutorials.com/wp-content/uploads/2015/03/udemy-image-1.jpg
  data-background-size: contain
  data-background-opacity: "0.7"
center-title-slide: false
author: "Rafael Bressan"
logo: "img/UdescEsag.jpeg"
format: 
  revealjs:
    theme: [default, udesc.scss] 
    code-fold: true
    chalkboard: true
    incremental: true
from: markdown+emoji # list of emojis: https://gist.github.com/rxaviers/7360908
fontsize: "2.2em"
editor: visual
jupyter: python3
---

## Introdu√ß√£o


* Os processos econ√¥micos s√£o resultados das intera√ß√µes entre as decis√µes tomadas por in√∫meros agentes econ√¥micos
* Portanto, qualquer teoria econ√¥mica deve basear-se em algum modelo que especifique o processo de tomada de decis√£o desses agentes. Sejam eles agentes individuais, fam√≠lias, firmas ou governo
* Postulados acerca do comportamento com objetivos por parte dos agentes levou, naturalmente, ao desenvolvimento de modelos matem√°ticos que envolvem a maximiza√ß√£o de alguma fun√ß√£o que dependa de v√°rios fatores
"



!!! warning "Racionalidade limitada"
	Recentemente, novas teorias tem sido desenvolvidas baseadas em, por exemplo, _racionalidade limitada_ e _satisficing_, como alternativa ao **modelo de escolha racional**.

	A abordagem de racionalidade limitada relaxa a hip√≥tese de comportamento otimizador ou de expectativas modelo-consistentes (ou ambas). Para o aluno interessado, consultar o seguinte [**`link`**](https://plato.stanford.edu/entries/bounded-rationality).


* No entanto, a teoria da otimiza√ß√£o e o modelo de escolha racional continuam sendo os pilares da an√°lise econ√¥mica




!!! info "Modelo de escolha racional"
	Modelos de escolha racional consistem de dois elementos:
	* Racionalidade individual: agentes econ√¥micos tomam a **melhor** decis√£o dadas as oportunidades **percebidas**
	* Consist√™ncia m√∫tua das a√ß√µes: a√ß√µes individuais s√£o **mutuamente consistentes** (conhecimento comum de racionalidade e coordena√ß√£o em um equil√≠brio)

	Modelo de escolha racional = otimiza√ß√£o + equil√≠brio

	O que a racionalidade individual implica?
	* **Conhecimento do problema**: tomador de decis√£o tem pleno conhecimento do problema de decis√£o com que se depara e do conjunto de alternativas do qual tem de escolher
	* **Prefer√™ncias claras**: ordenamento completo sobre o conjunto completo de alternativas
	* **Capacidade de otimizar**: possui as habilidades necess√°rias para realizar quaisquer c√°lculos complicados necess√°rios para encontrar sua trajet√≥ria √≥tima de a√ß√µes. Sua habilidade de calcular √© ilimitada e n√£o comete erros
	* **Indiferen√ßa a descri√ß√µes logicamente equivalentes de alternativas e conjuntos escolhas**: Substituir uma descri√ß√£o de alternativas por outra que seja "logicamente equivalente" n√£o afeta a escolha




> Na aula anterior estudamos o problema da escassez que um consumidor est√° sujeito, vimos a defini√ß√£o do conjunto or√ßament√°rio Walrasiano
> 
> Nosso objetivo, nas pr√≥ximas aulas, √© estudar o objetivo do consumidor
>
> A maximiza√ß√£o deste objetivo, sujeita √† restri√ß√£o or√ßament√°ria, √© conhecida como **problema (primal) do consumidor**




---
### Prefer√™ncias do consumidor
* Pressupomos que o consumidor seja capaz de ordenar as cestas de consumo do seu espa√ßo de mercadorias de acordo com suas prefer√™ncias, comparando-as em pares
* Ou seja, para quaisquer duas cestas de consumo $\textbf{x}$ e $\textbf{y}$ diferentes, o consumidor √© capaz de compar√°-las: ou $\textbf{x}$ √© pelo menos t√£o boa quanto $\textbf{y}$, ou $\textbf{y}$ √© pelo menos t√£o boa quanto $\textbf{x}$
* Chamamos essa rela√ß√£o de **prefer√™ncia**, e a denotamos por $\succeq$
* Tecnicamente, $\succeq$ √© uma rela√ß√£o bin√°ria sobre o conjunto consumo




!!! correct "Defini√ß√£o 4.1 (Prefer√™ncia fraca, estrita e indiferen√ßa)"
	1. **Prefer√™ncia fraca**: se o consumidor afirma que $\textbf{x} = (x_1, \dots, x_n)$ √© pelo menos t√£o boa quanto a cesta de consumo $\textbf{y} = (y_1, \dots, y_n)$, dizemos que o consumidor **prefere fracamente** $\textbf{x}$ a $\textbf{y}$ e denotamos essa rela√ß√£o por $\textbf{x} \succeq \textbf{y}$

	2. **Indiferen√ßa**: se $\textbf{x}$ √© pelo menos t√£o boa quanto $\textbf{y}$, e $\textbf{y}$ √© pelo menos t√£o boa quanto $\textbf{x}$, o consumidor mostra-se **indiferente** entre as duas cestas de consumo. Essa rela√ß√£o de _indiferen√ßa_ √© denotada por $\textbf{x} \sim \textbf{y}$. Em s√≠ntese $\textbf{x} \sim \textbf{y} \Leftrightarrow ((\textbf{x} \succeq \textbf{y})\wedge (\textbf{y}\succeq\textbf{x}))$

	3. **Prefer√™ncia estrita**: se $\textbf{x}$ √© pelo menos t√£o boa quanto $\textbf{y}$, e n√£o √© o caso que $\textbf{y}$ seja pelo menos t√£o boa quanto $\textbf{x}$, dizemos que $\textbf{x}$ √© **estritamente preferida** a $\textbf{y}$, denotado por $\textbf{x} \succ \textbf{y}$. Em s√≠ntese $\textbf{x} \succ \textbf{y} \Leftrightarrow ((\textbf{x} \succeq \textbf{y})\wedge \neg(\textbf{y}\succeq\textbf{x}))$




!!! correct "Defini√ß√£o 4.2 (Conjuntos derivados das prefer√™ncias)"
	Para um dado $\textbf{x} \in X$, podemos definir:

	* Conjunto de cestas pelo menos t√£o boas quanto $\textbf{x}$: 

	$\succeq(\textbf{x}) \equiv \{\textbf{y} \in X: \textbf{y} \succeq \textbf{x}\}$

	* Conjunto de cestas que n√£o s√£o melhores $\textbf{x}$: 

	$\preceq(\textbf{x}) \equiv \{\textbf{y} \in X: \textbf{y} \preceq \textbf{x}\}$

	* Conjunto de cestas estritamente melhores que $\textbf{x}$: 

	$\succ(\textbf{x}) \equiv \{\textbf{y} \in X: \textbf{y} \succ \textbf{x}\}$

	* Conjunto de cestas estritamente preteridas a $\textbf{x}$: 

	$\prec(\textbf{x}) \equiv \{\textbf{y} \in X: \textbf{y} \prec \textbf{x}\}$

	* Conjunto de indiferen√ßa a $\textbf{x}$: 

	$\sim(\textbf{x}) \equiv \{\textbf{y} \in X: \textbf{y} \sim \textbf{x}\}$




## Axiomas da escolha racional




!!! danger "Axioma 1. Completeza"
	Para quaisquer cestas de consumo $\textbf{x}$ e $\textbf{y}$ do espa√ßo de mercadorias, temos $\textbf{x} \succeq \textbf{y}$ ou $\textbf{y} \succeq \textbf{x}$ (ou ambos)




* Consequentemente, os consumidores n√£o s√£o paralisados pela indecis√£o: eles conhecem todas as cestas de bens dispon√≠veis e sempre s√£o capazes de compar√°-las




!!! danger "Axioma 2. Transitividade"
	Para quaisquer cestas de consumo $\textbf{x}$, $\textbf{y}$ e $\textbf{z}$ do espa√ßo de mercadorias, se $\textbf{x} \succeq \textbf{y}$ e $\textbf{y} \succeq \textbf{z}$, ent√£o $\textbf{x} \succeq \textbf{z}$




* As escolhas de um indiv√≠duo s√£o consistentes internamente




!!! correct "Defini√ß√£o 4.3 (Racionalidade)"
	Seja $\succeq$ uma rela√ß√£o de prefer√™ncias, $\succeq$ √© dita **racional** se satisfaz os axiomas de completeza e transitividade




Prefer√™ncias hipot√©ticas que satisfazem hip√≥teses de racionalidade
 $(Resource("https://raw.githubusercontent.com/pvfonseca/micro1/main/notas/figures/aula4_fig1.PNG", :width=>800))

* Neste caso, $X = \mathbb{R}^2_+$

* Axiomas 1 e 2 nos dizem que o consumidor deve colocar *qualquer* ponto de $X$ em alguma das tr√™s categorias mutuamente exclusivas, relativa a $\textbf{x}^0$: para qualquer cesta de consumo $\textbf{x}^0$, os tr√™s conjuntos $\succ{\textbf{x}^0}, \prec{\textbf{x}^0}, \sim{\textbf{x}^0}$ formam uma *parti√ß√£o* do conjunto consumo




!!! warning "Contra-exemplos"
	* Nenhuma das duas hip√≥teses (completude e transitividade) √© fraca
	* Contra-exemplos de prefer√™ncias n√£o-completas e n√£o-transitivas na lousa
	* Ver [**`paradoxo de Condorcet`**](https://en.wikipedia.org/wiki/Condorcet_paradox)




* As prefer√™ncias hipot√©ticas representadas na figura anterior podem parecer estranhas
* Possuem apenas a estrutura mais limitada poss√≠vel e, ainda assim, s√£o inteiramente consistentes com os axiomas de racionalidade
* Nenhuma das hip√≥teses, at√© agora, pro√≠be as ''irreguladidades'' representadas
* Estas irregularidades podem ser descartadas com a imposi√ß√£o de hip√≥teses adicionais sobre as prefer√™ncias




!!! danger "Axioma 3. Continuidade"
	Se um indiv√≠duo afirma que $\textbf{x} \succeq \textbf{y}$, ent√£o, cestas de consumo ''muito pr√≥ximas'' a $\textbf{x}$ tamb√©m s√£o fracamente preferidas a $\textbf{y}$.

	Formalmente, para quaisquer sequ√™ncias de pares $\{\textbf{x}^n, \textbf{y}^n\}_{n=1}^\infty$, tais que $\textbf{x}^n \succeq \textbf{y}^n$ para qualquer $n \in \mathbb{N}$, $\textbf{x} = \lim_{n\to \infty}\textbf{x}^n$ e $\textbf{y} = \lim_{n\to \infty}\textbf{y}^n$, ent√£o, $\textbf{x} \succeq \textbf{y}$




* Se o axioma de continuidade √© imposto, n√£o haver√° saltos ou mudan√ßas bruscas nas prefer√™ncias




!!! warning "Prefer√™ncias cont√≠nuas: contra-exemplo"
	[**`Prefer√™ncias lexicogr√°ficas`**](https://en.wikipedia.org/wiki/Lexicographic_preferences) - ver [C√≥digo Eleitoral Brasileiro (Lei 4.737/65) - Art. 110](https://www.planalto.gov.br/ccivil_03/leis/l4737compilado.htm#:~:text=LEI%20N%C2%BA%204.737,%20DE%2015%20DE%20JULHO%20DE%201965.&text=Institui%20o%20C%C3%B3digo%20Eleitoral.,9%20de%20abril%20de%201964.)




!!! danger "Axioma 4. Monotonicidade"
	Dizemos que a rela√ß√£o de prefer√™ncias $\succeq$ em $X$ √© *monot√¥nica* se $\textbf{x}>>\textbf{y}$ implica que $\textbf{x} \succ \textbf{y}$.

	A rela√ß√£o √© *estritamente monot√¥nica* se $\textbf{x} \geq \textbf{y}$ e $\textbf{x} \neq \textbf{y}$ implica que $\textbf{x} \succ \textbf{y}$.




* A hip√≥tese de que as prefer√™ncias s√£o monot√¥nicas √© satisfeita desde que as mercadorias sejam *bens econ√¥micos*, ao inv√©s de *maus econ√¥micos*
* Mesmo que uma mercadoria seja um mau econ√¥mico, podemos ter ainda prefer√™ncias mon√≥tonas
* Note que se $\succeq$ √© mon√≥tona, podemos ser indiferentes com rela√ß√£o a um aumento na quantidade de algumas, mas n√£o todas, mercadorias
* Por outro lado, monotonicidade estrita diz que se $\textbf{x}$ √© maior que $\textbf{y}$ para *algum* bem e n√£o √© menor para qualquer outra, ent√£o, $\textbf{x}$ √© estritamente preferida a $\textbf{y}$
* Prefer√™ncias monot√¥nicas indicam que o consumidor sempre prefere consumir mais a menos




!!! danger "Axioma 5. Convexidade"
	Se $\textbf{x}$ e $\textbf{y}$ s√£o cestas de consumo tais que $\textbf{x} \sim \textbf{y}$, ent√£o $\lambda\textbf{x} + (1-\lambda)\textbf{y} \succeq \textbf{x}$, $\forall \lambda \in [0, 1]$.

	Isto √©, o consumidor prefere fracamente cestas de consumo mais balanceadas, ou seja, as m√©dias s√£o fracamente preferidas aos extremos.

	**Convexidade estrita**: se $\textbf{x}$ e $\textbf{y}$ s√£o cestas de consumo tais que $\textbf{x} \sim \textbf{y}$, ent√£o $\lambda\textbf{x} + (1-\lambda)\textbf{y} \succ \textbf{x}$, $\forall \lambda \in (0, 1)$.

	Isto √©, o consumidor prefere de maneira estrita cestas de consumo mais balanceadas, ou seja, as m√©dias s√£o estritamente preferidas aos extremos.




## Utilidade




* Consumidores s√£o caracterizados por suas prefer√™ncias
* No entanto, do ponto de vista pr√°tico, prefer√™ncias nem sempre s√£o f√°ceis de manusear e de se extrair infer√™ncias econ√¥micas
* Dados os axiomas de **completeza, transitividade e continuidade**, √© poss√≠vel demonstrar, formalmente, que as pessoas s√£o capazes de rankear todas as situa√ß√µes poss√≠veis da menos desejada para a mais desejada
* Esse ranking, seguindo a terminologia introduzida no s√©culo XIX por Jeremy Bentham, √© denominado **utilidade**

$(Resource("https://upload.wikimedia.org/wikipedia/commons/c/c8/Jeremy_Bentham_by_Henry_William_Pickersgill_detail.jpg", :width=>300))
[Jeremy Bentham (1748 - 1832)](https://pt.wikipedia.org/wiki/Jeremy_Bentham)




!!! correct "Defini√ß√£o 4.4 (Fun√ß√£o utilidade)"
	Uma **fun√ß√£o utilidade** √© um modo de atribuir um n√∫mero real a cada cesta de consumo, de maneira que se atribuam √†s cestas mais preferidas n√∫meros mais altos do que os atribu√≠dos √†s cestas menos preferidas.

	Formalmente, √© uma fun√ß√£o $u: M \to \mathbb{R}$ representando a rela√ß√£o de prefer√™ncia fraca $\succeq$ sobre o espa√ßo de mercadorias $M$ se para quaisquer cestas de consumo $\textbf{x}$ e $\textbf{y}$ tem-se:

	$$\textbf{x} \succeq \textbf{y} \Leftrightarrow u(\textbf{x}) \geq u(\textbf{y})$$




#### N√£o-unicidade da fun√ß√£o utilidade




* Note que a transforma√ß√£o monot√¥nica positiva de uma fun√ß√£o utilidade √© uma fun√ß√£o utilidade que representa a mesma ordena√ß√£o de prefer√™ncias da fun√ß√£o utilidade original
* Formalmente, para qualquer transforma√ß√£o positiva $f: \mathbb{R} \to \mathbb{R}$, a fun√ß√£o composta $v(\textbf{x}) = f(u(\textbf{x}))$ √© uma nova fun√ß√£o utilidade representando a mesma rela√ß√£o de prefer√™ncias da fun√ß√£o utilidade original $u: M \to \mathbb{R}$
* Lembrando que uma fun√ß√£o $f: \mathbb{R} \to \mathbb{R}$ √© dita realizar uma **transforma√ß√£o monot√¥nica positiva** se $f(u_1) > f(u_2)$ sempre que $u_1 > u_2$
* Ou seja, a fun√ß√£o $f(\bullet)$ preserva a ordem dos n√∫meros $u_1$ e $u_2$




* A n√£o-unicidade da fun√ß√£o utilidade implica que n√£o faz sentido perguntar ''o quanto a cesta de consumo $\textbf{x}$ √© prefer√≠vel √† cesta $\textbf{y}$?''
* Portanto, os rankings de utilidade s√£o como os rankings de ordena√ß√£o de restaurantes, hoteis ou filmes (uma, duas ou tr√™s estrelas)
* A n√£o-unicidade tamb√©m implica que **n√£o √© poss√≠vel comparar utilidades entre pessoas diferentes!!**
* De maneira similar, n√£o √© poss√≠vel mensurar se uma mudan√ßa de uma situa√ß√£o $\textbf{x}$ para uma situa√ß√£o $\textbf{y}$ prov√™ mais utilidade para uma pessoa ou para outra 




#### *Ceteris paribus*




* Como a utilidade se refere √† satisfa√ß√£o geral de um consumidor, essa medida √© afetada por uma variedade de fatores
* A utilidade de um consumidor √© afetada n√£o apenas pelo seu consumo de bens f√≠sicos ou servi√ßos. Mas, tamb√©m, por atitudes psicol√≥gicas, press√µes sociais, experi√™ncias sociais e o ambiente cultural de maneira geral
* Apesar de essas influ√™ncias serem de interesse geral dos economistas, nesta disciplina focaremos exclusivamente nas escolhas entre op√ß√µes quantific√°veis, enquanto mantemos constante os outros fatores que influenciam o comportamento - *ceteris paribus*




#### Bens econ√¥micos




* Assumimos que as prefer√™ncias de um indiv√≠duo podem ser representadas por uma fun√ß√£o utilidade da forma:

$U(x_1, \dots, x_n) \tag{1}$
onde $x_1, \dots, x_n$ s√£o as quantidades de cada um dos $n$ bens ou servi√ßos que podem ser consumidas em um per√≠odo de tempo

* Nessa representa√ß√£o, assumimos que as vari√°veis s√£o **bens econ√¥micos**. Isto √©, quaisquer que sejam as quantidades que elas representem, assumimos que uma quantidade maior qualquer de um $x_i$ em particular, durante algum dado per√≠odo, ser√° preferida a menos




Bens econ√¥micos e implica√ß√£o de monotonicidade
$(Resource("https://raw.githubusercontent.com/pvfonseca/micro1/main/notas/figures/aula4_fig2.PNG", :width=>800))




## Curvas de indiferen√ßa e TMS




* A maioria das atividades econ√¥micas envolvem trocas volunt√°rias entre indiv√≠duos
* Essas trocas volunt√°rias podem ser melhor estudadas utilizando o conceito de **curvas de indiferen√ßa**




!!! correct "Defini√ß√£o 4.5 (Curvas de indiferen√ßa)"
	Uma **curva (superf√≠cie) de indiferen√ßa** representa um conjunto de cestas de consumo indiferentes entre si. Ou seja, cont√©m todas as combina√ß√µes de consumo que d√£o o mesmo n√≠vel de satisfa√ß√£o ao indiv√≠duo.

	Formalmente, como j√° vimos, a curva ou superf√≠cie de indiferen√ßa de um bem $\textbf{x}$ qualquer, em termos de prefer√™ncias, √© dada por:

	$$\sim(\textbf{x}) \equiv \{\textbf{y}\in\mathbb{R}_+^n| \mathbb{y}\sim\mathbb{x}\}$$

	Em termos de fun√ß√£o utilidade:

	$$\sim(\textbf{x}) \equiv \{\mathbb{y}\in \mathbb{R}_+^n| u(\mathbb{y}) = \bar{u}, \text{ onde } u(\textbf{x}) = \bar{u}\}$$




Curvas de indiferen√ßa: representa√ß√£o gr√°fica



begin			
	x1 = range(0, 15, length=200)	
	contour(x1, x1, (x, y)-> x^0.5*y^0.5, c=:bone_1, legend=:none, levels = [1, 2, 3, 4, 5, 6, 7, 8], clabels=true)
	vline!([0], lw=0.5, lc=:black, label=:none)
	hline!([0], lw=0.5, lc=:black, label=:none)
end



!!! info "Curvas de indiferen√ßa: propriedades"
	1. Implica√ß√£o do axioma da **transitividade**: curvas de indiferen√ßa que representam n√≠veis distintos de utilidade **n√£o** podem se cruzar, ou seja, se $\textbf{x} \succ \textbf{y}$, ent√£o $\sim(\textbf{x})\cap\sim(\textbf{y}) = \emptyset$

	2. Implica√ß√£o do axioma da **monotonicidade**: curvas de indiferen√ßa s√£o negativamente inclinadas

	3. Implica√ß√£o do axioma da **convexidade estrita**: para qualquer cesta de consumo $\textbf{x}$ do espa√ßo de mercadorias, o conjunto fracamente preferido $\succeq(\textbf{x})$ √© **convexo**




!!! warning "Conjunto convexo"
	Lembrando que um conjunto qualquer $S$ √© dito **convexo** se para quaisquer $x, y \in S$ temos $\lambda x + (1-\lambda)y \in S$, para todo $\lambda\in[0,1]$.

	Essa defini√ß√£o √© equivalente a assumir que a fun√ß√£o utilidade √© **quasi-c√¥ncava**.




Implica√ß√£o do axioma de transitividade
$(Resource("https://raw.githubusercontent.com/pvfonseca/micro1/main/notas/figures/aula4_fig3.PNG", :width=>800))




Implica√ß√£o do axioma de convexidade estrita
$(Resource("https://raw.githubusercontent.com/pvfonseca/micro1/main/notas/figures/aula4_fig4.PNG", :width=>800))




#### Taxa marginal de substitui√ß√£o

* A inclina√ß√£o da curva de indiferen√ßa, pelo axioma da monotonicidade, √© negativa

* Portanto, se um indiv√≠duo √© for√ßado a abrir m√£o de uma certa quantidade do bem $y$, ele deve ser recompensado por uma certa quantidade de $x$ para manter-se indiferente entre as duas cestas de consumo




!!! correct "Defini√ß√£o 4.6 (Taxa marginal de substitui√ß√£o)"
	A **taxa marginal de substitui√ß√£o (TMS)** mede a taxa √† qual o indiv√≠duo est√° propenso a substituir um bem por outro.

	Mais precisamente, a TMS de $y$ por $x$, $\text{TMS}_{x,y}$, √© o negativo da inclina√ß√£o de uma curva de indiferen√ßa $U_1$ em um determinado ponto:

	$$\text{TMS}_{x, y} \equiv - \left.\frac{dy}{dx}\right|_{U=U_1}\tag{2}$$

	onde a nota√ß√£o indica que a inclina√ß√£o √© calculada ao longo da curva de indiferen√ßa $U_1$.




!!! info "Taxa marginal de substitui√ß√£o: propriedades"
	1. Pelo axioma de **monotonicidade**, as curvas de indiferen√ßa s√£o negativamente inclinadas. Portanto, a TMS assim definida √© sempre um n√∫mero positivo. Ou seja, o consumidor s√≥ se mant√©m indiferente se a redu√ß√£o de consumo de um bem for compensada pelo aumento no consumo de outro bem.

	2. Pelo axioma da **convexidade estrita**, vimos que o conjunto fracamente preferido $\succeq(\textbf{x})$ √© convexo. Isso √© equivalente a dizer que a **taxa marginal de substitui√ß√£o √© decrescente**. Ou seja, a taxa √† qual um indiv√≠duo com prefer√™ncias estritamente convexas deseja trocar um bem $x$ por $y$ diminui √† medida que aumentamos a quantidade do bem $y$.




> Suponha que um indiv√≠duo derive utilidade do consumo de dois bens $x$ e $y$. E que suas prefer√™ncias sejam representadas pela seguinte fun√ß√£o utilidade:
>
> $$U(x,y) = \sqrt{xy}$$
>
> 1. Calcule a taxa marginal de substitui√ß√£o para este indiv√≠duo.
>
> 2. Qual √© a taxa marginal de substitui√ß√£o de $y$ por $x$ no ponto (5,20)? E no ponto (20,5)? Como interpretar os resultados economicamente?
>
> 3. Mostre que a taxa marginal de substitui√ß√£o √© decrescente.
>
> 4. Mostre que uma cesta de consumo balanceada √© prefer√≠vel.




#### Utilidade e TMS




* Suponha que um indiv√≠duo derive utilidade do consumo de dois bens cujas quantidades s√£o dadas por $x$ e $y$
* As prefer√™ncias desse consumidor s√£o representadas pela fun√ß√£o utilidade $U(x,y)$
* As combina√ß√µes de $x$ e $y$ que d√£o um n√≠vel determinado de utilidade a esse agente de $k$ s√£o representadas pelas solu√ß√µes da fun√ß√£o impl√≠cita
$$U(x,y) = k$$
* Tomando o diferencial total da express√£o anterior, obtemos:
$$U_x dx + U_y dy = 1dk$$
* Note que $U_x \equiv \frac{\partial U(x,y)}{\partial x}$ e $U_y \equiv \frac{\partial U(x,y)}{\partial y}$ medem o acr√©scimo na utilidade devido a um aumento marginal no consumo de um bem - **utilidades marginais** dos bens $x$ e $y$
* Como estamos interessados nas mudan√ßas feitas em $x$ e $y$ de forma a manter o n√≠vel de satisfa√ß√£o constante, ent√£o, $dk = 0$. Portanto:
$$U_x dx + U_y dy = 0$$
* Logo, temos que:
$$\text{TMS}_{x, y} = -\left.\frac{dy}{dx}\right|_{U(x,y) = k} = \frac{U_x}{U_y}\tag{3}$$




> **Exerc√≠cio**. Calcule a taxa marginal de substitui√ß√£o das seguintes fun√ß√µes utilidade e verifique se as curvas de indiferen√ßa s√£o convexas:
>
> 1. $U(x,y) = \sqrt{xy}$
>
> 2. $U(x,y) = x + xy + y$
>
> 3. $U(x,y) = \sqrt{x^2 + y^2}$



begin			
	ex1 = range(0, 15, length=200)	
	contour(ex1, ex1, (x, y)-> x^0.5*y^0.5, c=:bone_1, legend=:none, levels = [2, 3, 4, 5], clabels=true, title=L"U(x,y)=\sqrt{xy}")
	vline!([0], lw=0.5, lc=:black, label=:none)
	hline!([0], lw=0.5, lc=:black, label=:none)
end


begin			
	ex2 = range(0, 5, length=200)	
	contour(ex2, ex2, (x, y)-> x + x*y + y, c=:bone_1, legend=:none, levels = [6, 8, 10, 12, 14], clabels=true, title=L"U(x,y)=x + xy + y")
	vline!([0], lw=0.5, lc=:black, label=:none)
	hline!([0], lw=0.5, lc=:black, label=:none)
end


begin			
	ex3 = range(0, 15, length=200)	
	contour(ex3, ex3, (x, y)-> sqrt(x^2+y^2), c=:bone_1, legend=:none, levels = [6, 8, 10, 12, 14], clabels=true, title=L"U(x,y)=\sqrt{x^2 + y^2}")
	vline!([0], lw=0.5, lc=:black, label=:none)
	hline!([0], lw=0.5, lc=:black, label=:none)
end



## Fun√ß√µes utilidade para prefer√™ncias espec√≠ficas




### Fun√ß√£o Cobb-Douglas




!!! info "Fun√ß√£o Cobb-Douglas"
	Em 1928, [Charles Cobb](https://en.wikipedia.org/wiki/Charles_Cobb_(economist)) e [Paul Douglas](https://en.wikipedia.org/wiki/Paul_Douglas) modelaram o crescimento da economia norte-americana de 1899-1922.

	Supondo uma fun√ß√£o de produ√ß√£o do tipo:

	$$F(K, L) = A K^{\alpha}L^{1-\alpha}$$

	Por MQO, Cobb e Douglas estimaram a seguinte fun√ß√£o de produ√ß√£o para a economia dos EUA no per√≠odo amostral:
	
	$$F(K, L) = 1,01 K^{0,25}L^{0,75}$$




* Para o caso da teoria do consumidor, a fun√ß√£o utilidade do tipo Cobb-Douglas apresenta a seguinte forma funcional:

$$U(x,y) = x^\alpha y^\beta, \qquad 0<\alpha,\beta<1\tag{4}$$

* De maneira geral, os par√¢metros $\alpha$ e $\beta$ representam a import√¢ncia relativa dos bens para este indiv√≠duo

* Normalmente, √© conveniente normalizar os par√¢metros de forma com que $\alpha + \beta = 1$. Neste caso, a fun√ß√£o utilidade seria dada por:

$$U(x,y) = x^\delta y^{1-\delta},\tag{5}$$
onde $\delta = \frac{\alpha}{\alpha + \beta}$ e $1-\delta = \frac{\beta}{\alpha + \beta}$.

* Prefer√™ncias estritamente convexas e estritamente monot√¥nicas



begin
	cobb_delta = @bind Œ¥ Slider(0.01:0.1:0.99, default=0.5)	

	
	Par√¢metro $\delta$: $(cobb_delta)
	
end


begin		
	cobb_x = range(0, 50, length=200)	
	cobb_plot = @layout [a b]
	cobb1 = surface(
	  cobb_x, cobb_x, (x, y)-> x^Œ¥ * y^(1-Œ¥), c=:bone_1, legend=:none, 
	  nx=50, ny=50, display_option=Plots.GR.OPTION_SHADED_MESH, camera=(40,20)
	)
	cobb2 = contour(cobb_x, cobb_x, (x, y)-> x^Œ¥ * y^(1-Œ¥), c=:bone_1, legend=:none, levels = [10, 14, 18, 20, 24], clabels=true)	
	plot(cobb1, cobb2, layout = cobb_plot)	
end



### Bens substitutos




* A fun√ß√£o utilidade para o caso de bens substitutos √© dada por:
$$U(x,y) = \alpha x + \beta y, \qquad \alpha, \beta>0\tag{6}$$
* Neste caso, as curvas de indiferen√ßa s√£o lineares
* A linearidade das curvas de indiferen√ßa motiva a denomina√ß√£o de bens substitutos para descrever a rela√ß√£o entre $x$ e $y$
* Uma pessoa com esse tipo de prefer√™ncias est√° disposta a abrir m√£o da mesma quantidade do bem $y$ para adquirir uma unidade adicional de $x$, n√£o importa quanto de $x$ esteja sendo consumido
* ‚ö†Ô∏è Note que, neste caso, a TMS √© constante e o princ√≠pio de taxa marginal de substitui√ß√£o decrescente n√£o se aplica
* Prefer√™ncias s√£o convexas (mas n√£o estritamente convexas) e fortemente mon√≥tonas



begin		
	sub_x = range(0, 5, length=100)	
	sub_plot = @layout [a b]
	sub1 = surface(
	  sub_x, sub_x, (x, y)-> x + y, c=:thermal, legend=:none, 
	  nx=50, ny=50, display_option=Plots.GR.OPTION_SHADED_MESH, camera=(40,30,30)
	)
	sub2 = contour(sub_x, sub_x, (x, y)-> x + y, c=:thermal, legend=:none, levels = [2, 3, 4, 5, 6, 7, 8, 9, 10], clabels=true, fill=false)	
	plot(sub1, sub2, layout = sub_plot)	
end



### Bens complementares




* Uma situa√ß√£o oposta √† de bens substitutos √© ilustrada para o caso de bens complementares, cuja fun√ß√£o utilidade √© da forma:
$$U(x,y) = \min\{\alpha x, \beta y\}, \qquad \alpha, \beta>0\tag{7}$$
* Neste caso, as curvas de indiferen√ßa tem um formato de L e a raz√£o da quantidade consumida de $y$ com rela√ß√£o ao bem $x$ √© constante e igual a:
$$\frac{y}{x} = \frac{\alpha}{\beta}$$
* Indicando que nenhum dos bens especificados na fun√ß√£o utilidade ser√° consumido de maneira sup√©rflua quando $\alpha x = \beta y$
* Prefer√™ncias s√£o convexas (mas n√£o estritamente convexas) e fracamente mon√≥tonas
* TMS n√£o existe na quina, √© infinita acima da quina ou zero √† direita da quina



begin		
	comp_x = range(0, 5, length=100)	
	comp_plot = @layout [a b]
	comp1 = surface(
	  comp_x, comp_x, (x, y)-> min(x,y), c=:roma, legend=:none, 
	  nx=50, ny=50, display_option=Plots.GR.OPTION_SHADED_MESH, camera=(45,45)
	)
	comp2 = contour(comp_x, comp_x, (x, y)-> min(x,y), c=:bone, legend=:none, levels = 8, clabels=false, fill=true, alpha=0.4)	
	plot(comp1, comp2, layout = comp_plot)	
end



### Fun√ß√£o de elasticidade de substitui√ß√£o constante (CES)




* Um problema com as fun√ß√µes utilidade supracitadas √© que assumem curvas de indiferen√ßa com formas pr√©-definidas
* Uma fun√ß√£o utilidade que permite v√°rios formatos distintos √© a fun√ß√£o utilidade de **elasticidade de substitui√ß√£o constante (CES)**:
$$U(x,y) = \left[x^\delta + y^\delta\right]^{\frac{1}{\delta}}, \qquad \delta \leq 1, \quad \delta\neq 0\tag{8}$$
* Essa fun√ß√£o incorpora as tr√™s vistas anteriormente:
    * Se $\delta = 1$, temos o caso de bens substitutos perfeitos
    * Se $\delta \to 0$, a CES tende a uma fun√ß√£o do tipo Cobb-Douglas
    * Se $\delta \to -\infty$, a CES tende ao caso de complementares perfeitos
* Podemos fazer uma transforma√ß√£o monot√¥nica $U^* = U^\delta/\delta$ e obter uma forma mais trat√©vel:
$$U(x,y) = \frac{x^\delta}{\delta} + \frac{y^\delta}{\delta}$$



begin		
	ces_Œ¥1 = 1
	ces_x = range(0, 5, length=100)	
	ces_plot = @layout [a b]
	ces1 = surface(
	  ces_x, ces_x, (x, y)-> x^ces_Œ¥1/ces_Œ¥1 + y^ces_Œ¥1/ces_Œ¥1, c=:roma, legend=:none, 
	  nx=50, ny=50, display_option=Plots.GR.OPTION_SHADED_MESH, camera=(45,45)
	)
	ces2 = contour(ces_x, ces_x, (x, y)-> x^ces_Œ¥1/ces_Œ¥1 + y^ces_Œ¥1, c=:bone, legend=:none, levels = 8, clabels=false, fill=true, alpha=0.3)	
	plot(ces1, ces2, layout = ces_plot, title=L"Œ¥ = 1")	
end


begin		
	ces_cobb = 0.1
	ces_xcobb = range(0, 5, length=45)	
	ces_plotcobb = @layout [a b]
	ces1cobb = surface(
	  ces_xcobb, ces_xcobb, (x, y)-> (x^ces_cobb + y^ces_cobb)^(1/ces_cobb), c=:roma, legend=:none, 
	  nx=50, ny=50, display_option=Plots.GR.OPTION_SHADED_MESH, camera=(45,30)
	)
	ces2cobb = contour(ces_xcobb, ces_xcobb, (x, y)-> (x^ces_cobb + y^ces_cobb)^(1/ces_cobb), c=:thermal, legend=:none, levels = 10, clabels=false, fill=true, alpha=0.4)	
	plot(ces1cobb, ces2cobb, layout = ces_plotcobb, title=L"Œ¥ = 0.1")	
end


begin		
	ces_l = -50
	ces_xl = range(0, 5, length=100)	
	ces_plotl = @layout [a b]
	ces1l = surface(
	  ces_xl, ces_xl, (x, y)-> (x^ces_l + y^ces_l)^(1/ces_l), c=:roma, legend=:none, 
	  nx=50, ny=50, display_option=Plots.GR.OPTION_SHADED_MESH, camera=(45,45)
	)
	ces2l = contour(ces_xl, ces_xl, (x, y)-> (x^ces_l + y^ces_l)^(1/ces_l), c=:bone, legend=:none, levels = 10, clabels=false, fill=true, alpha=0.4)	
	plot(ces1l, ces2l, layout = ces_plotl, title=L"Œ¥ = -50")	
end



### Fun√ß√£o quasi-linear




* Uma fun√ß√£o utilidade quasi-linear √© definida pela seguinte forma funcional:
$$U(x, y) =  v(x) + y$$
* Abaixo ilustramos o gr√°fico e as curvas de indiferen√ßa associadas a fun√ß√£o utilidade quasi-linear com a seguinte forma funcional espec√≠fica:
$$U(x, y) = \ln(1 + x) + y$$



begin		
	ql_x = range(0, 5, length=100)	
	ql_plotl = @layout [a b]
	ql = surface(
	  ql_x, ql_x, (x, y)-> log(1 + x) + y, c=:roma, legend=:none, 
	  nx=50, ny=50, display_option=Plots.GR.OPTION_SHADED_MESH, camera=(45,30)
	)
	ql2 = contour(ql_x, ql_x, (x, y)-> log(1+x) + y, c=:bone, legend=:none, levels = 10, clabels=false, fill=true, alpha=0.4)	
	plot(ql, ql2, layout = ql_plotl)	
end



## Prefer√™ncias homot√©ticas e n√£o-homot√©ticas




* Uma fun√ß√£o utilidade √© **homot√©tica** se sua taxa marginal de substitui√ß√£o depende apenas da *raz√£o* entre as quantidades de bens, e n√£o de suas quantidades totais
* A import√¢ncia de fun√ß√µes utilidade homot√©ticas √© que suas curvas de indiferen√ßa s√£o similares
* A inclina√ß√£o das curvas depende apenas da raz√£o entre os bens, e n√£o do qu√£o distante as curvas est√£o da origem
* As curvas de indiferen√ßa associadas a utilidades mais altas s√£o c√≥pias das de utilidades mais baixas
* Portanto, podemos estudar o comportamento de um indiv√≠duo que tenha prefer√™ncias homot√©ticas olhando apenas uma curva de indiferen√ßa (ou um n√∫mero pequeno)
* Sem nos preocupar que o resultado altere drasticamente para diferentes n√≠veis de utilidade




> 1. Mostre que as quatro fun√ß√µes utilidade estudadas anteriormente exibem prefer√™ncias homot√©ticas:
> 
> (a) Fun√ß√£o Cobb-Douglas
>
> (b) Bens substitutos
>
> (c) Bens complementares
>
> (d) Fun√ß√£o de elasticidade de substitui√ß√£o constante




!!! hint "Respostas"
	(a) Fun√ß√£o Cobb-Douglas: $U(x,y) = x^\alpha y^\beta$

	$$\text{TMS} = \frac{\alpha y}{\beta x}$$

	(b) Bens substitutos: $U(x,y) = \alpha x + \beta y$

	$$\text{TMS} = \frac{\alpha}{\beta}$$

	(c) Bens complementares: $U(x,y) = \min\{\alpha x + \beta y\}$

	$$\text{TMS} = \begin{cases} \infty, &\quad& \alpha x< \beta y \\ \text{indefinida}, &\quad& \alpha x = \beta y \\ 0, &\quad& \alpha x > \beta y\end{cases}$$

	(d) Fun√ß√£o CES: $U(x,y) = \left[x^\delta + y^\delta\right]^{\frac{1}{\delta}}$

	$$\text{TMS} = \left(\frac{y}{x}\right)^{1-\delta}$$




> 2. Mostre que a fun√ß√£o utilidade quasi-linear abaixo n√£o exibe prefer√™ncias homot√©ticas:
>
> $$U(x,y) = x + \ln y$$




!!! hint "Resposta"
	$$\text{TMS} = y$$



begin			
	q_linear = range(0, 20, length=100)	
	contour(q_linear, q_linear, (x, y)-> x + log(y), c=:roma, legend=:none, levels = 10, clabels=false, title=L"U(x,y) = x + \ln y", fill=true, alpha=0.4)	
end



* Note que no caso da fun√ß√£o utilidade quasi-linear, a TMS diminui √† medida que a quantidade escolhida de $y$ diminui, mas √© independente da quantidade consumida de $x$
* Como $x$ tem uma utilidade marginal constante, a disposi√ß√£o de um indiv√≠duo a abrir m√£o de $y$ para adquirir uma unidade adicional de $x$ depende, apenas, do quanto de $y$ possui
* Ao contr√°rio do caso homot√©tico, quando as quantidades de $x$ e $y$ dobram, a TMS tamb√©m dobra (ao inv√©s de permanecer invariante)




## Superf√≠cie de indiferen√ßa




* Se o indiv√≠duo deriva utilidade do consumo de $n$ bens, sua fun√ß√£o utilidade por ser representada como:
$$U(x_1, \dots, x_n)$$
* Portanto, a equa√ß√£o:
$$U(x_1, \dots, x_n) = k,$$
neste caso, define uma **superf√≠cie de indiferen√ßa** $n$-dimensional
* Continuaremos assumindo que a superf√≠cie de indiferen√ßa √© convexa
* Isto √©, cestas de consumo mais balanceadas s√£o prefer√≠veis √†s cestas n√£o-balanceadas
* Portanto, assume-se que a fun√ß√£o utilidade √© quasi-c√¥ncava
* Podemos estudar as trocas volunt√°rias que um indiv√≠duo esteja disposto a fazer entre dois bens quaisquer ($x_1$ e $x_2$) usando o teorema da fun√ß√£o impl√≠cita para obter a TMS:
$$\text{TMS}_{x_1, x_2} = -\left.\frac{dx_2}{dx_1}\right|_{U(x_1, \dots, x_n) = k} = \frac{U_1(x_1, \dots, x_n)}{U_2(x_1, \dots, x_n)}$$
* A disposi√ß√£o de um indiv√≠duo em trocar $x_2$ por $x_1$ depende n√£o s√≥ da quantidade desses bens mas, tamb√©m, das quantidades de todos os outros bens




## üìö Bibliografia

JEHLE, G. A.; RENY, P. J. Advanced microeconomic theory. 3.ed. Pearson Education Limited, 2011.

MAS-COLELL, A.; WHINSTON, M.D.; GREEN, J.R. Microeconomic Theory. New York, NY: Oxford University Press, 1995.

NICHOLSON, W.; SNYDER C. Teoria microecon√¥mica: Princ√≠pios b√°sicos e aplica√ß√µes. Cengage Learning Brasil, 2019.
